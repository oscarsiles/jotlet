{% extends 'base_generic.html' %}

{% load crispy_forms_tags %}

{% block content %}

<p>
    {% crispy form %}
</p>

<p>
    {% if user.is_authenticated %}
    <h4>Your boards ({{ user}}):</h4>
    <ul class="list-group">
        {% for board in user.boards.all %}
        <li class="list-group-item">
            <a href="{{ board.get_absolute_url }}">{{ board }}</a> 
            <a class="btn btn-link btn-sm" href="{% url 'boards:board-update' board.slug %}" data-bs-toggle="modal" data-bs-target="#MyModal"><i class="bi bi-pen"></i></a>
            <a class="btn btn-close btn-sm" href="{% url 'boards:board-delete' board.slug %}"></a>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</p>

{% if perms.boards.can_view_all_boards %}
<p>
    <h4>All boards:</h4>
    <ul class="list-group">
        {% for board in boards %}
        <li class="list-group-item">
            <a href="{{ board.get_absolute_url }}">{{ board }}</a> ({{ board.owner }})
            <a class="btn btn-link btn-sm" href="{% url 'boards:board-update' board.slug %}" data-bs-toggle="modal" data-bs-target="#MyModal"><i class="bi bi-pen"></i></a>
            <a class="btn btn-close btn-sm" href="{% url 'boards:board-delete' board.slug %}"></a>
        </li>{% endfor %}
    </ul>
</p>
{% endif %}


{% endblock content %}   

<script type="text/javascript"> 
    var modal = bootstrap.Modal.getInstance(document.getElementById("modal-1-div"));

    var toggleBackgroundOptions = function (bg_type) {
        switch (bg_type) {
            case 'i':
                htmx.find('#div_id_background_image').style.display = 'block';
                htmx.find('#div_id_background_opacity').style.display = 'block';
                htmx.find('#div_id_background_color').style.display = 'none';
                break;
            case 'c':
                htmx.find('#div_id_background_color').style.display = 'block';
                htmx.find('#div_id_background_image').style.display = 'none';
                htmx.find('#div_id_background_opacity').style.display = 'none';
                break;
        }
    };

    htmx.on('form', "htmx:load", function(evt) {
        modal._config.backdrop = 'static';
        modal._config.keyboard = false;

        var background_type = document.getElementById('id_background_type').value;
        toggleBackgroundOptions(background_type);
    });

    htmx.on('hide.bs.modal', function(evt) {
        modal._config.backdrop = true;
        modal._config.keyboard = true;
    });

    var el = document.getElementById('id_background_type');
    el.addEventListener('change', function(evt) {
        var background_type = document.getElementById('id_background_type').value;
        toggleBackgroundOptions(evt.target.value);
    });
</script> 

{% load crispy_forms_tags %}

<button class="btn btn-primary" hx-get="{% url 'boards:board-create' %}" hx-target="#modal-2-body-div" data-bs-toggle="modal" data-bs-target="#modal-2-div">Create board</button>
{% crispy form %}

<h5 id="modal-1-title-div" hx-swap-oob="true">Board Preferences</h5>

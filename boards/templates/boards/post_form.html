{% load crispy_forms_tags static %}
<form id="post-form"
      hx-post="{{ request.build_absolute_uri }}"
      @submit.prevent="$nextTick(() => { bootstrap.Modal.getInstance('#modal-1-div').hide() })">
    {% crispy form %}
    {% if board.preferences.enable_chemdoodle %}
        <div class="d-flex justify-content-center">
            <div>
                <canvas id="chemdoodle-edit-canvas" width="0" height="0"></canvas>
            </div>
        </div>
    {% endif %}
</form>
<script defer
        src="{% static 'boards/js/components/board_easymde.js' %}"
        nonce="{{ CSP_NONCE }}"></script>
<div class="modal-footer" id="modal-1-footer-div" hx-swap-oob="true">
    <button type="button"
            class="btn btn-outline-secondary"
            data-bs-dismiss="modal"
            tabindex="-1">Close</button>
    <button type="submit" class="btn btn-success" form="post-form" tabindex="0">
        {% if form.instance.pk != None %}
            Save changes
        {% else %}
            Create post
        {% endif %}
    </button>
</div>
{% if form.instance.pk != None %}
    <h5 id="modal-1-title-div" hx-swap-oob="true">Edit Post</h5>
{% else %}
    <h5 id="modal-1-title-div" hx-swap-oob="true">Create Post</h5>
{% endif %}
